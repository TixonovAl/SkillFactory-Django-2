{% extends 'flatpages/default.html' %}

{% load censor_filter %}

{% block title %}
Posts
{% endblock title %}

{% block content %}
    <h1>Свежие новости и статьи</h1>
    {% if news_of_the_day %}
        <h3>Новость дня!</h3>
    {% endif %}

    <hr>
    <div style="margin: 2% 5% 2% 5%; text-align: left">
    {% if posts %}
        <span>Всего новостей на сайте: {{ posts|length }}</span>
        {% for post in posts %}
        <div style="margin: 10px 0%; padding: 10px 20px; background: #edf5ff">
            <table width="100%" style="background: #edf5ff">
                <div style="margin: 10px">
                    <tr>
                        <td><h3 style="text-align: left">{{ post.title|censor }}</h3></td>
                    </tr>
                    <tr>
                        <td style="width: 100%; height: 30px; text-align: right">
                            <!-- Левая сторона -->
                            <span style="float: left">Рейтинг: {{ post.rating }}</span>
                            <!-- Правая сторона -->
                            <span style="text-align: right">{{ post.date_of_creation|date:'d F Y' }}</span>
                        </td>
                    </tr>
                    <tr>
                        <td style="text-align: left">{{ post.text|truncatewords:20|censor }}</td>
                    </tr>
                    <tr>
                        <td style="text-align: right"><i>©{{ post.author }}</i></td>
                    </tr>
                </div>
            </table>
        </div>
        {% endfor %}
    {% else %}
        <h2>Новостей нет!</h2>
    {% endif %}
    </div>
{% endblock content %}

